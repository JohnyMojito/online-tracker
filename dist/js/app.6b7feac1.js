(function(e){function t(t){for(var r,n,i=t[0],l=t[1],c=t[2],u=0,m=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&m.push(s[n][0]),s[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},s={app:0},o=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("85ec"),s=a.n(r);s.a},"064b":function(e,t,a){},"0968":function(e,t,a){"use strict";var r=a("6087"),s=a.n(r);s.a},"198d":function(e,t,a){"use strict";var r=a("eb48"),s=a.n(r);s.a},"3e09":function(e,t,a){"use strict";var r=a("a531"),s=a.n(r);s.a},"3ec7":function(e,t,a){"use strict";var r=a("064b"),s=a.n(r);s.a},"56d7":function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"addBoxDisplay",(function(){return ke})),a.d(r,"addInput",(function(){return Pe}));var s={};a.r(s),a.d(s,"addBoxDisplay",(function(){return Te}));var o={};a.r(o),a.d(o,"boxesVisible",(function(){return De}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("router-view")],1),e.boxesVisible?a("add-box"):e._e()],1)},l=[],c=a("5530"),d=a("2f62"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"overlay",on:{click:e.cancelBox}}),a("div",{staticClass:"add-box"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"d-flex text-light add-box-buttons justify-content-between align-items-center"},[a("div",{staticClass:"pl-2"},[e._v("Add a new brief information")]),a("button",{staticClass:"btn btn-danger",on:{click:e.cancelBox}},[e._v("X")])]),a("div",{staticClass:"container-fluid",staticStyle:{"margin-top":"5px"}},[a("fieldset",{staticClass:"form-group"},[a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group"},[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.clientName,expression:"clientName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.clientName},on:{input:function(t){t.target.composing||(e.clientName=t.target.value)}}})]),a("div",{staticClass:"form-group"},[e._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.whoFor,expression:"whoFor"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.whoFor},on:{input:function(t){t.target.composing||(e.whoFor=t.target.value)}}})]),a("div",{staticClass:"form-group"},[e._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:e.whoWith,expression:"whoWith"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.whoWith},on:{input:function(t){t.target.composing||(e.whoWith=t.target.value)}}})]),a("div",{staticClass:"form-group row"},[e._m(3),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.confirmed,expression:"confirmed"}],staticClass:"custom-select",staticStyle:{width:"250px"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.confirmed=t.target.multiple?a:a[0]}}},e._l(e.booleanTable,(function(t){return a("option",[e._v(" "+e._s(t)+" ")])})),0)])]),a("div",{staticClass:"form-group row"},[e._m(4),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.briefType,expression:"briefType"}],staticClass:"custom-select",staticStyle:{width:"250px"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.briefType=t.target.multiple?a:a[0]}}},e._l(e.briefTable,(function(t){return a("option",[e._v(" "+e._s(t)+" ")])})),0)])]),a("div",{staticClass:"form-group row"},[e._m(5),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.setStatus,expression:"setStatus"}],staticClass:"custom-select",staticStyle:{width:"250px"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.setStatus=t.target.multiple?a:a[0]}}},e._l(e.statusTable,(function(t){return a("option",[e._v(" "+e._s(t)+" ")])})),0)])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group row"},[e._m(6),a("input",{directives:[{name:"model",rawName:"v-model",value:e.meetDate,expression:"meetDate"}],staticClass:"custom-select col-6",attrs:{id:"meetDate",type:"date",name:"meetDate"},domProps:{value:e.meetDate},on:{input:function(t){t.target.composing||(e.meetDate=t.target.value)}}})]),a("div",{staticClass:"form-group row"},[e._m(7),a("input",{directives:[{name:"model",rawName:"v-model",value:e.delivery,expression:"delivery"}],staticClass:"custom-select col-6",attrs:{id:"delDate",type:"date",name:"delivery"},domProps:{value:e.delivery},on:{input:function(t){t.target.composing||(e.delivery=t.target.value)}}})]),a("div",{staticClass:"form-group row"},[e._m(8),a("input",{directives:[{name:"model",rawName:"v-model",value:e.startDate,expression:"startDate"}],staticClass:"custom-select col-6",attrs:{id:"startDate",type:"date",name:"startDate"},domProps:{value:e.startDate},on:{input:function(t){t.target.composing||(e.startDate=t.target.value)}}})]),a("div",{staticClass:"form-group row"},[e._m(9),a("input",{directives:[{name:"model",rawName:"v-model",value:e.deadline,expression:"deadline"}],staticClass:"custom-select col-6",attrs:{id:"deadline",type:"date",name:"deadline"},domProps:{value:e.deadline},on:{input:function(t){t.target.composing||(e.deadline=t.target.value)}}})]),a("div",{staticClass:"form-group row"},[e._m(10),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reminder1,expression:"reminder1"}],staticClass:"custom-select col-6",attrs:{id:"reminder1",type:"date",name:"reminder1"},domProps:{value:e.reminder1},on:{input:function(t){t.target.composing||(e.reminder1=t.target.value)}}})]),a("div",{staticClass:"form-group row"},[e._m(11),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reminder2,expression:"reminder2"}],staticClass:"custom-select col-6",attrs:{id:"reminder2",type:"date",name:"reminder2"},domProps:{value:e.reminder2},on:{input:function(t){t.target.composing||(e.reminder2=t.target.value)}}})]),a("div",{staticClass:"d-flex justify-content-center"},[e.isLoading?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),e._v(" Adding... ")]):a("button",{staticClass:"btn btn-outline-success",on:{click:function(t){return t.preventDefault(),e.addNewBox(t)}}},[e._v(" Add ")])])])])])])])])])},m=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Client name:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("For:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v(" Who is the meeting with: ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-4 my-auto"},[a("strong",[e._v("Confirmed?")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-4 my-auto"},[a("strong",[e._v("Brief Type:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-4 my-auto"},[a("strong",[e._v("Set status:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-5 my-auto"},[a("strong",[e._v("Meeting date:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-5 my-auto"},[a("strong",[e._v("Delivery date:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-5 my-auto"},[a("strong",[e._v("Start date:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-5 my-auto"},[a("strong",[e._v("OpCo deadline:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-5 my-auto"},[a("strong",[e._v("Reminder 1:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-5 my-auto"},[a("strong",[e._v("Reminder 2:")])])}],p=(a("d3b7"),a("96cf"),a("1da1")),f=(a("684e"),a("1315")),v={data:function(){return{clientName:"",confirmed:"Yes",briefType:"Client",setStatus:"In Progress",whoFor:"",whoWith:"",startDate:"",meetDate:"",deadline:"",delivery:"",reminder1:"",reminder2:"",tillDelivery:"",booleanTable:["Yes","No"],briefTable:["Client","Carrier"],statusTable:["In Progress","Pending"],isLoading:!1}},computed:{loadingState:function(){return this.$store.getters.loading},timeChange:function(){return!(this.delivery>f["DateTime"].local().toISODate())},startDateProper:function(){return""==!this.startDate?f["DateTime"].fromISO(this.startDate).toLocaleString(f["DateTime"].DATE_HUGE):"No date provided"},meetDateProper:function(){return""==!this.meetDate?f["DateTime"].fromISO(this.meetDate).toLocaleString(f["DateTime"].DATE_HUGE):"No date provided"},deadlineProper:function(){return""==!this.deadline?f["DateTime"].fromISO(this.deadline).toLocaleString(f["DateTime"].DATE_HUGE):"No date provided"},deliveryProper:function(){return""==!this.delivery?f["DateTime"].fromISO(this.delivery).toLocaleString(f["DateTime"].DATE_HUGE):"No date provided"},reminder1Proper:function(){return""==!this.reminder1?f["DateTime"].fromISO(this.reminder1).toLocaleString(f["DateTime"].DATE_HUGE):"No date provided"},reminder2Proper:function(){return""==!this.reminder2?f["DateTime"].fromISO(this.reminder2).toLocaleString(f["DateTime"].DATE_HUGE):"No date provided"},deliveryDeadline:function(){return""==!this.delivery?f["DateTime"].fromISO(this.delivery).toRelative():"No delivery date provided"}},methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["addInput"])),{},{sendData:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,a=e.$store.getters.token,t.next=4,fetch("https://mmc-tracker.firebaseio.com/boxes.json?auth="+a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientName:e.clientName,confirmed:e.confirmed,briefType:e.briefType,status:e.setStatus,whoFor:e.whoFor,whoWith:e.whoWith,startDate:e.startDateProper,meetDate:e.meetDateProper,deadline:e.deadlineProper,delivery:e.deliveryProper,reminder1:e.reminder1Proper,reminder2:e.reminder2Proper,tillDelivery:e.deliveryDeadline,isDeleted:!1,progress:{placehold:""},progressBar:0,progressDisplay:"",timeVal:e.delivery,boolVal:e.timeChange})}).then((function(e){if(!e.ok)throw new Error("Error number: "+e.status+"! Please let Szymon know and try again later!")})).catch((function(e){alert(e.message)}));case 4:e.isLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},addNewBox:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.sendData();case 2:return t.next=4,e.$store.dispatch("fetchData");case 4:e.restart();case 5:case"end":return t.stop()}}),t)})))()},cancelBox:function(){this.$store.dispatch("addBoxDisplay")},restart:function(){this.clientName="",this.confirmed="Yes",this.briefType="Client",this.setStatus="In Progress",this.whoFor="",this.whoWith="",this.startDate="",this.meetDate="",this.deadline="",this.delivery="",this.inputEntry="",this.reminder1="",this.reminder2=""}})},g=v,h=(a("d1bea"),a("2877")),b=Object(h["a"])(g,u,m,!1,null,"20c36bdf",null),y=b.exports,x={computed:Object(c["a"])({},Object(d["c"])(["boxesVisible"])),components:{AddBox:y}},C=x,w=(a("034f"),Object(h["a"])(C,i,l,!1,null,null,null)),_=w.exports,k=a("8c4f"),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isAuthenticated?a("div",{class:{redBod:e.redBackground}},[a("app-navbar"),a("transition-group",{attrs:{name:"slide",mode:"out-in"}},e._l(e.filterBoxes,(function(t){return a("app-box",{key:t.id,attrs:{box:t},on:{boxRemoved:e.removeBox}})})),1)],1):e._e()])},T=[],D=(a("4de4"),a("ac1f"),a("466d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"accordion",attrs:{id:"accordion"+e.box.id}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",class:e.timeChange,staticStyle:{display:"inline-block",background:"#f6f7f8"},attrs:{id:"heading"+e.box.id}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"col quiver",class:e.arrowLeft,attrs:{"data-toggle":"collapse","data-target":"#collapse-"+e.box.id,"aria-expanded":"false","aria-controls":"collapse-"+e.box.id},on:{click:function(t){e.turnArrow=!e.turnArrow}}},[a("div",{staticClass:"arrow"})]),a("display-input-field",{key:e.box.componentKey,staticClass:"my-auto container text-left col-xs-2",attrs:{displayValue:e.box.clientName,id:e.box.id,headerClass:e.box.boolVal,input:!0,property:"clientName"}}),a("div",{staticClass:"container text-left col-2 my-auto",staticStyle:{display:"flex"}},[e._m(0),a("display-input-field",{key:e.box.componentKey,staticClass:"container",attrs:{select:!0,displayValue:e.box.status,headerClass:e.box.boolVal,id:e.box.id,optionTable:e.statusTable,property:"status"}})],1),a("div",{staticClass:"container text-left col-2 my-auto"},[a("p",{staticClass:"my-auto"},[a("strong",[e._v("Delivery: "+e._s(e.showTime))])])]),e._m(1),a("div",{staticClass:"container text-left my-auto col-3"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar bg-success",style:{border:"1px solid white","border-radius":"5px",width:e.box.progressBar/e.maxProgress*100+"%"},attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":"120"}},[a("strong",[e._v(e._s(e.box.progressDisplay))])])])]),e.box.isDeleted?a("div",{staticClass:"col"},[a("div",{staticClass:"spinner-border",attrs:{role:"status"}})]):a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-danger",domProps:{innerHTML:e._s("<strong>X</strong>")},on:{click:function(t){return e.removeBox(e.box.id)}}})])],1)]),a("div",{staticClass:"collapse",attrs:{id:"collapse-"+e.box.id,"aria-labelledby":"heading"+e.box.id,"data-parent":"#accordion"+e.box.id}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm",attrs:{id:"col-one"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[e._m(2),a("display-input-field",{attrs:{bool:!e.box.confirmed,displayValue:e.box.confirmed,id:e.box.id,property:"confirmed",select:!0,optionTable:e.booleanTable}})],1),a("div",{staticClass:"form-group"},[e._m(3),a("display-input-field",{attrs:{bool:!e.box.briefType,displayValue:e.box.briefType,id:e.box.id,property:"briefType",select:!0,optionTable:e.typeTable}})],1),a("div",{staticClass:"form-group"},[e._m(4),a("display-input-field",{attrs:{bool:!e.box.whoFor,displayValue:e.box.whoFor,id:e.box.id,property:"whoFor",input:!0}})],1),a("div",{staticClass:"form-group"},[e._m(5),a("display-input-field",{attrs:{bool:!e.box.whoWith,displayValue:e.box.whoWith,id:e.box.id,property:"whoWith",input:!0}})],1),a("div",{staticClass:"form-group"},[e._m(6),a("display-input-field",{attrs:{bool:!e.box.meetDate,displayValue:e.box.meetDate,id:e.box.id,property:"meetDate",input:!0,inputType:"date"}})],1)])]),a("div",{staticClass:"col-sm",attrs:{id:"col-two"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[e._m(7),a("display-input-field",{attrs:{bool:!e.box.startDate,displayValue:e.box.startDate,id:e.box.id,property:"startDate",input:!0,inputType:"date"}})],1),a("div",{staticClass:"form-group"},[e._m(8),a("display-input-field",{attrs:{bool:!e.box.delivery,displayValue:e.box.delivery,id:e.box.id,property:"delivery",input:!0,inputType:"date"}})],1),a("div",{staticClass:"form-group"},[e._m(9),a("display-input-field",{attrs:{bool:!e.box.deadline,displayValue:e.box.deadline,id:e.box.id,property:"deadline",input:!0,inputType:"date"}})],1),a("div",{staticClass:"form-group"},[e._m(10),a("display-input-field",{attrs:{bool:!e.box.deadline,displayValue:e.box.reminder1,id:e.box.id,property:"reminder1",input:!0,inputType:"date"}})],1),a("div",{staticClass:"form-group"},[e._m(11),a("display-input-field",{attrs:{bool:!e.box.reminder2,displayValue:e.box.reminder2,id:e.box.id,property:"reminder2",input:!0,inputType:"date"}})],1)])]),a("div",{staticClass:"col-sm",attrs:{id:"col-three"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[e._m(12),a("display-input-field",{attrs:{bool:!e.box.mercerClient,id:e.box.id,property:"mercerClient",displayValue:e.box.mercerClient,select:!0,optionTable:e.stateTable,updateProgress:!0,changeClass:!0}})],1),a("div",{staticClass:"form-group"},[e._m(13),a("display-input-field",{attrs:{bool:!e.box.marshClient,id:e.box.id,property:"marshClient",displayValue:e.box.marshClient,select:!0,optionTable:e.stateTable,updateProgress:!0}})],1),a("div",{staticClass:"form-group"},[e._m(14),a("display-input-field",{attrs:{bool:!e.box.owClient,id:e.box.id,property:"owClient",displayValue:e.box.owClient,select:!0,optionTable:e.stateTable,updateProgress:!0}})],1),a("div",{staticClass:"form-group"},[e._m(15),a("display-input-field",{attrs:{bool:!e.box.gcClient,id:e.box.id,property:"gcClient",displayValue:e.box.gcClient,select:!0,optionTable:e.stateTable,updateProgress:!0}})],1)])]),a("div",{staticClass:"col-sm",attrs:{id:"col-four"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[e._m(16),a("display-input-field",{attrs:{bool:!e.box.mmb,id:e.box.id,property:"mmb",displayValue:e.box.mmb,select:!0,optionTable:e.stateTable,updateProgress:!0}})],1),a("div",{staticClass:"form-group"},[e._m(17),a("display-input-field",{attrs:{bool:!e.box.marshCarrier,id:e.box.id,property:"marshCarrier",displayValue:e.box.marshCarrier,select:!0,optionTable:e.stateTable,updateProgress:!0}})],1),a("div",{staticClass:"form-group"},[e._m(18),a("display-input-field",{attrs:{bool:!e.box.owCarrier,id:e.box.id,property:"owCarrier",displayValue:e.box.owCarrier,select:!0,optionTable:e.stateTable,updateProgress:!0}})],1),a("div",{staticClass:"form-group"},[e._m(19),a("display-input-field",{attrs:{bool:!e.box.gcCarrier,id:e.box.id,property:"gcCarrier",displayValue:e.box.gcCarrier,select:!0,optionTable:e.stateTable,updateProgress:!0}})],1)])]),a("div",{staticClass:"col-sm",attrs:{id:"col-five"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[e._m(20),a("display-input-field",{attrs:{bool:!e.box.wealth,id:e.box.id,property:"wealth",displayValue:e.box.wealth,select:!0,optionTable:e.stateTable,updateProgress:!0}})],1),a("div",{staticClass:"form-group"},[e._m(21),a("display-input-field",{attrs:{bool:!e.box.b2b,id:e.box.id,property:"b2b",displayValue:e.box.b2b,select:!0,optionTable:e.stateTable,updateProgress:!0}})],1),a("div",{staticClass:"form-group"},[e._m(22),a("display-input-field",{attrs:{bool:!e.box.mmc,id:e.box.id,property:"mmc",displayValue:e.box.mmc,select:!0,optionTable:e.stateTable,updateProgress:!0}})],1),a("div",{staticClass:"form-group"},[e._m(23),a("display-input-field",{attrs:{bool:!e.box.other,id:e.box.id,property:"other",displayValue:e.box.other,select:!0,optionTable:e.stateTable,updateProgress:!0}})],1)])])])]),a("div",{staticClass:"card-body"},[e._m(24),a("display-input-field",{attrs:{textarea:!0,bool:!e.box.comments,displayValue:e.box.comments,id:e.box.id,property:"comments"}})],1)])])])])])}),S=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"mr-1 my-auto"},[a("strong",[e._v("Status:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"my-auto"},[a("strong",[e._v("Progress:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Confirmed?")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Type:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("For:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Who is the meeting with:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Meeting date:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Start:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Delivery Date:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("OpCo deadline:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Reminder 1:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Reminder 2:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Mercer Client:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Marsh Client:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("OW Client:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("GC Client:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("MMB:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Marsh Carrier:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("OW Carrier:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("GC Carrier:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Wealth:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("B2B:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("MMC:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Other (if necessary):")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("strong",[e._v("Comments")])])}],E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isEditable?a("div",[e.input?a("div",["checkbox"===e.inputType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.newDisplay,expression:"newDisplay"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newDisplay)?e._i(e.newDisplay,null)>-1:e.newDisplay},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changeDisplay(t)},change:function(t){var a=e.newDisplay,r=t.target,s=!!r.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);r.checked?n<0&&(e.newDisplay=a.concat([o])):n>-1&&(e.newDisplay=a.slice(0,n).concat(a.slice(n+1)))}else e.newDisplay=s}}}):"radio"===e.inputType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.newDisplay,expression:"newDisplay"}],staticClass:"form-control",attrs:{type:"radio"},domProps:{checked:e._q(e.newDisplay,null)},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changeDisplay(t)},change:function(t){e.newDisplay=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.newDisplay,expression:"newDisplay"}],staticClass:"form-control",attrs:{type:e.inputType},domProps:{value:e.newDisplay},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changeDisplay(t)},input:function(t){t.target.composing||(e.newDisplay=t.target.value)}}})]):e._e(),e.select?a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.newDisplay,expression:"newDisplay"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.newDisplay=t.target.multiple?a:a[0]},function(t){e.changeDisplay(),e.updateProgressBar({id:e.id,property:e.property,value:e.newDisplay,updateProgress:e.update})}]}},e._l(e.optionTable,(function(t){return a("option",[e._v(" "+e._s(t)+" ")])})),0)]):e._e(),e.textarea?a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newDisplay,expression:"newDisplay"}],staticClass:"form-control",staticStyle:{width:"100%",height:"7em"},attrs:{type:e.inputType},domProps:{value:e.newDisplay},on:{input:function(t){t.target.composing||(e.newDisplay=t.target.value)}}}),a("button",{staticClass:"btn btn-primary",on:{click:e.changeDisplay}},[e._v(" Save comment ")])]):e._e()]):a("div",{staticClass:"btn container",class:e.changeClasses,on:{click:e.makeEditable}},[e._t("default",[e._v(" "+e._s(e.display))])],2)])},I=[],O={data:function(){return{classes:"",isEditable:!1,display:"",newDisplay:"",progress:this.updateProgress}},computed:{update:function(){return this.progress},changeClasses:function(){return"Ok"==this.display?{"btn-success":!0}:"N/A"==this.display?{"btn-secondary":!0}:"NR"==this.display||"FYA SP"==this.display||"FYA Mail"==this.display?{"btn-info":!0}:this.classes?{"btn-outline-light":!0,visible:!0}:{"btn-outline-dark":!0}}},props:["bool","displayValue","id","property","inputType","input","select","textarea","optionTable","updateProgress","changeClass","headerClass"],mounted:function(){this.isEditable=this.bool,this.display=this.displayValue,this.progress=this.updateProgress,this.classes=this.headerClass},methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["updateProgressBar"])),{},{makeEditable:function(){this.isEditable=!this.isEditable,this.newDisplay=this.display},changeDisplay:function(){this.isEditable=!this.isEditable,"date"==this.inputType?this.display=f["DateTime"].fromISO(this.newDisplay).toLocaleString(f["DateTime"].DATE_HUGE):this.display=this.newDisplay,this.$store.dispatch("updateContents",{id:this.id,property:this.property,value:this.newDisplay,input:this.inputType})}})},B=O,N=(a("da8e"),Object(h["a"])(B,E,I,!1,null,"30fb0dc8",null)),$=N.exports,j={props:["box"],data:function(){return{isEditable:!1,booleanTable:["Yes","No"],statusTable:["In Progress","Pending","Completed"],typeTable:["Client","Carrier"],stateTable:["Ok","FYA SP","FYA Mail","NR","N/A","Waiting for additional info","Escalated"," "],maxProgress:12,refreshKey:0,timeDisplay:"",turnArrow:!1}},computed:{arrowLeft:function(){var e="turn-arrow-up",t="turn-arrow-down";return!0===this.turnArrow?e:t},isDeleted:function(){return this.$store.getters.deleting},showTime:function(){var e=this,t=(this.box.status,this.box.timeVal),a=f["DateTime"].local().toISODate();return setInterval((function(){var t=e.box.timeVal;e.timeDisplay=f["DateTime"].fromISO(t).toRelative()}),1e3),t==a?"Today!":this.timeDisplay},timeChange:function(){var e=this.box.status,t=this.box.timeVal,a=f["DateTime"].local().toISODate(),r=f["DateTime"].local().plus({days:3}).toISODate();return t<=a&&"Completed"!=e?{"bg-danger":!0,visible:!0}:t<=r&&"Completed"!=e?{"bg-warning":!0}:"Completed"==e?{"bg-success":!0,visible:!0}:void 0}},mounted:function(){this.$store.dispatch("refreshStyle")},methods:{removeBox:function(e){this.$emit("boxRemoved",e)}},components:{DisplayInputField:$}},A=j,V=(a("198d"),Object(h["a"])(A,D,S,!1,null,"0eab47b4",null)),R=V.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"padding-top":"75px"}},[a("nav",{staticClass:"navbar fixed-top navbar-expand-lg navbar-dark",staticStyle:{height:"75px",background:"#003865","z-index":"10"}},[a("div",{staticClass:"collapse navbar-collapse d-flex",class:e.navDisplay,attrs:{id:"navbarSupportedContent"}},[e.changePass.showPassChange?e._e():a("div",{staticClass:"my-auto",staticStyle:{color:"white"}},[a("div",{staticClass:"dropdown"},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-success dropdown-toggle",attrs:{type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("strong",[e._v("Welcome, "+e._s(e.username)+"!")])]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenu2"}},[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.addBoxDisplay}},[e._v(" Add a new brief ")]),a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(t){e.changePass.showPassChange=!e.changePass.showPassChange}}},[e._v(" Change password ")]),a("div",{staticClass:"dropdown-divider"}),a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.logOut}},[a("strong",[e._v("Logout")])])])])])]),e.changePass.showPassChange?a("div",[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.changePass.newPass,expression:"changePass.newPass"}],staticClass:"mx-2",class:{"border-danger rounded":e.newPassErr},attrs:{type:"password",placeholder:"New password"},domProps:{value:e.changePass.newPass},on:{input:function(t){t.target.composing||e.$set(e.changePass,"newPass",t.target.value)}}}),e._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.changePass.confirmPass,expression:"changePass.confirmPass"}],staticClass:"mx-2",class:{"border-danger rounded":e.confirmPassErr},attrs:{type:"password",placeholder:"Confirm new password"},domProps:{value:e.changePass.confirmPass},on:{input:function(t){t.target.composing||e.$set(e.changePass,"confirmPass",t.target.value)}}}),e.changePassSuccess?e._e():a("button",{staticClass:"btn btn-success mx-2",on:{click:e.changePassword}},[e._v(" Change your password ")]),e.changePassSuccess?e._e():a("button",{staticClass:"btn btn-secondary mx-2",on:{click:e.forgetAboutIt}},[e._v(" Eh, forget about it! ")])]):e._e(),e.showError?a("div",{staticClass:"col bg-danger d-flex justify-content-center align-items-center error-class"},[a("p",{staticClass:"my-auto"},[e._v(" "+e._s(e.changePassMsg)+" ")])]):e._e(),e.logoutError?a("div",{staticClass:"col btn btn-danger d-flex justify-content-center align-items-center error-class",on:{click:e.logOut}},[a("p",{staticClass:"my-auto"},[e._v(" "+e._s(e.changePassMsg)+" ")])]):e._e(),e.changePassSuccess?a("div",{staticClass:"col bg-success d-flex justify-content-center align-items-center error-class",staticStyle:{cursor:"pointer"},on:{click:e.forgetAboutIt}},[a("p",{staticClass:"my-auto"},[e._v(" Password changed successfully! Click this message to return to the main view. ")])]):e._e(),e.changePass.showPassChange?e._e():a("div",[a("ul",{staticClass:"nav nav-pills"},[a("li",{staticClass:"nav-item",on:{click:function(t){return e.changeLink("In Progress")}}},[a("a",{staticClass:"nav-link",staticStyle:{color:"whitesmoke"},attrs:{"data-toggle":"tab"}},[e._v("In Progress")])]),a("li",{staticClass:"nav-item",on:{click:function(t){return e.changeLink("Pending")}}},[a("a",{staticClass:"nav-link",staticStyle:{color:"whitesmoke"},attrs:{"data-toggle":"tab"}},[e._v("Pending")])]),a("li",{staticClass:"nav-item",on:{click:function(t){return e.changeLink("Completed")}}},[a("a",{staticClass:"nav-link",staticStyle:{color:"whitesmoke"},attrs:{"data-toggle":"tab"}},[e._v("Completed")])]),a("li",{staticClass:"nav-item",on:{click:function(t){return e.changeLink("All")}}},[a("a",{staticClass:"nav-link active",staticStyle:{color:"whitesmoke"},attrs:{"data-toggle":"tab"}},[e._v("All")])])])]),e.changePass.showPassChange?e._e():a("div",[a("form",{staticClass:"form-inline my-lg-0"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterBoxes,expression:"filterBoxes"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.filterBoxes=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[e._v(" Choose a client from a list: ")]),e._l(e.boxes,(function(t){return a("option",[e._v(" "+e._s(t.clientName)+" ")])}))],2),a("p",{staticStyle:{margin:"10px",color:"white"}},[e._v("or")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBoxes,expression:"filterBoxes"}],staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search manually","aria-label":"Search"},domProps:{value:e.filterBoxes},on:{input:function(t){t.target.composing||(e.filterBoxes=t.target.value)}}}),a("button",{staticClass:"btn btn-danger my-2 my-sm-0",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.clearSearch(t)}}},[e._v(" Clear ")])])])])])])},M=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticStyle:{color:"whitesmoke"}},[a("strong",[e._v("New password:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticStyle:{color:"whitesmoke"}},[a("strong",[e._v("Confirm new password:")])])}],F=(a("5319"),{data:function(){return{logoutError:!1,changePassSuccess:!1,showError:!1,oldPassErr:!1,newPassErr:!1,confirmPassErr:!1,changePassMsg:"",changePass:{showPassChange:!1,oldPass:"",newPass:"",confirmPass:""}}},computed:{navDisplay:function(){return 0==this.changePass.showPassChange?{"justify-content-between":!0}:{"justify-content-center":!0}},boxes:function(){return this.$store.getters.filteredList},username:function(){return this.$store.getters.displayName},filterBoxes:{get:function(){return this.$store.getters.searchbar},set:function(e){this.$store.dispatch("updateSearch",e)}}},methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["addBoxDisplay","changeLink","clearSearch","logout"])),{},{logOut:function(){this.logout(),this.$router.replace("/")},forgetAboutIt:function(){this.changePassSuccess=!1,this.changePass.showPassChange=!1,this.showError=!1,this.newPassErr=!1,this.confirmPassErr=!1,this.logoutError=!1},changePassword:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.changePass.newPass,r=e.changePass.confirmPass,a&&!(a.length<6)){t.next=8;break}e.showError=!0,e.newPassErr=!0,e.changePassMsg="New password needs to be at least 6 characters long!",t.next=28;break;case 8:if(a===r){t.next=15;break}e.showError=!0,e.newPassErr=!0,e.confirmPassErr=!0,e.changePassMsg="Passwords do not match!",t.next=28;break;case 15:return t.prev=15,t.next=18,e.$store.dispatch("changePassword",e.changePass.newPass);case 18:e.changePassSuccess=!0,e.showError=!1,e.changePass.oldPass="",e.changePass.newPass="",e.changePass.confirmPass="",t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](15),"Error: CREDENTIAL_TOO_OLD_LOGIN_AGAIN"==t.t0?(e.logoutError=!0,e.showError=!1,e.newPassErr=!0,e.confirmPassErr=!0,e.changePassMsg="Session expired - you need to logout and login again. Click this notification to logout."):(e.showError=!0,e.newPassErr=!0,e.confirmPassErr=!0,e.changePassMsg=t.t0);case 28:case"end":return t.stop()}}),t,null,[[15,25]])})))()}})}),W=F,U=(a("3ec7"),Object(h["a"])(W,L,M,!1,null,"59c40f89",null)),G=U.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"homeBackground"},[a("div",{staticClass:"card",staticStyle:{position:"fixed",top:"50%",left:"50%",transform:"translate(-51%, -50%)"}},[a("div",[e._m(0),e.goToReset?a("div",{staticClass:"card-body"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"form-group w-75 mx-auto"},[a("p",{staticStyle:{"text-align":"center"},attrs:{for:"email"}},[e._v(" Provide your email adress below: ")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Enter email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"d-flex flex-column"},[a("button",{staticClass:"btn btn-danger",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.resetPassword(t)}}},[e._v(" Reset password ")]),a("router-link",{staticClass:"btn btn-secondary mt-2",attrs:{tag:"button",to:"/"}},[e._v(" Return to homepage ")])],1)])])]):a("div",{staticClass:"card-body"},[a("div",{staticClass:"d-flex justify-content-center"}),a("form",[a("div",{staticClass:"form-group w-75 mx-auto"},[a("label",{attrs:{for:"email"}},[e._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Enter email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"form-group w-75 mx-auto"},[a("label",{attrs:{for:"password"}},[e._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.formIsValid?e._e():a("p",{staticStyle:{color:"red"}},[e._v(e._s(e.error))])]),a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"d-flex flex-column"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.logIn(t)}}},[e._v(" Login ")]),a("p",{staticClass:"mt-2 card-footer",staticStyle:{cursor:"pointer"},on:{click:function(t){e.goToReset=!0}}},[e._v(" Forgot/reset password? ")])])])])])])])])},K=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-header bg-danger",staticStyle:{color:"whitesmoke"}},[a("h1",{staticClass:"display-2 p-4",staticStyle:{"text-align":"center","font-family":"'Open Sans', sans-serif"}},[e._v(" Oops!!! ")]),a("p",[e._v("You might be lost. You need to be logged in to see this page!")])])}],J={data:function(){return{email:"",password:"",formIsValid:!0,isLoading:!1,error:null,goToReset:!1}},computed:{displayError:function(){return alert(this.error)},displayLoading:function(){return this.isLoading}},methods:{logIn:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.formIsValid=!0,e.isLoading=!0,t.prev=2,t.next=5,e.$store.dispatch("login",{email:e.email,password:e.password});case 5:e.$router.replace("/tracker"),t.next=13;break;case 8:t.prev=8,t.t0=t["catch"](2),e.formIsValid=!1,console.log(e.formIsValid),"INVALID_PASSWORD"==t.t0.message?e.error="Ooops! Wrong password! Please try again!":e.error=t.t0.message||"Failed to authenticate. Try again later.";case 13:e.isLoading=!1;case 14:case"end":return t.stop()}}),t,null,[[2,8]])})))()},resetPassword:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("resetPassword",e.email);case 2:alert("An email with the link to reset the password was sent to "+e.email+". It should arrive in the next couple of minutes."),e.goToReset=!1;case 4:case"end":return t.stop()}}),t)})))()}}},Y=J,z=(a("0968"),Object(h["a"])(Y,H,K,!1,null,"c957754e",null)),Q=z.exports,q={data:function(){return{id:0,greenBackground:!1,redBackground:!1,searchForBox:""}},computed:Object(c["a"])(Object(c["a"])({},Object(d["c"])(["allBoxContents","filteredList","searchbar","isAuthenticated"])),{},{filterBoxes:function(){var e=this;return this.filteredList.filter((function(t){return t.clientName.match(e.searchbar)}))}}),components:{appBox:R,appNavbar:G,appAuth:Q},mounted:function(){this.$store.dispatch("fetchData")},methods:{removeBox:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!confirm("Are you sure you want to remove this component?")){a.next=7;break}return t.redBackground=!0,a.next=4,t.$store.dispatch("removeContents",e);case 4:return a.next=6,t.$store.dispatch("fetchData");case 6:setTimeout((function(){t.redBackground=!1}),1e3);case 7:t.$store.dispatch("clearSearch");case 8:case"end":return a.stop()}}),a)})))()}}},X=q,Z=(a("d16c"),Object(h["a"])(X,P,T,!1,null,"cd437d70",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"homeBackground"},[a("div",{staticClass:"card",staticStyle:{position:"fixed",top:"50%",left:"50%",transform:"translate(-51%, -50%)"}},[a("div",[e._m(0),e.goToReset?a("div",{staticClass:"card-body"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"form-group w-75 mx-auto"},[a("p",{staticStyle:{"text-align":"center"},attrs:{for:"email"}},[e._v(" Provide your email adress below: ")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Enter email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"d-flex flex-column"},[a("button",{staticClass:"btn btn-danger",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.resetPassword(t)}}},[e._v(" Reset password ")]),a("button",{staticClass:"btn btn-secondary mt-2",attrs:{type:"submit"},on:{click:function(t){t.preventDefault(),e.goToReset=!e.goToReset}}},[e._v(" Return to homepage ")])])])])]):a("div",{staticClass:"card-body"},[e._m(1),a("form",[a("div",{staticClass:"form-group w-75 mx-auto"},[a("label",{attrs:{for:"email"}},[e._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form-control",class:{"border-danger rounded":!e.mailIsValid},attrs:{type:"email",id:"email",placeholder:"Enter email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.mailIsValid?e._e():a("p",{staticStyle:{color:"red"}},[e._v(" Ooops! Wrong email! Please try again! ")])]),a("div",{staticClass:"form-group w-75 mx-auto"},[a("label",{attrs:{for:"password"}},[e._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form-control",class:{"border-danger rounded":!e.passIsValid},attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.passIsValid?e._e():a("p",{staticStyle:{color:"red"}},[e._v(" Ooops! Wrong password! Please try again! ")])]),a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"d-flex flex-column"},[e.isLoading?a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:""}},[a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),e._v(" Logging in... ")]):a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.logIn(t)}}},[e._v(" Login ")]),a("button",{staticClass:"mt-2 btn btn-secondary",on:{click:function(t){e.goToReset=!0}}},[e._v(" Forgot/reset password? ")])])])])])])])])},ae=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-header bg-info"},[a("h2",{staticClass:"display-5 p-4",staticStyle:{"text-align":"center","font-family":"'Open Sans', sans-serif"}},[e._v(" MMC Advantage Homepage ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex justify-content-center"},[a("p",[e._v("Login using your credentials:")])])}],re={data:function(){return{email:"",password:"",mailIsValid:!0,passIsValid:!0,isLoading:!1,error:null,goToReset:!1}},computed:{displayError:function(){return alert(this.error)},displayLoading:function(){return this.isLoading}},methods:{logIn:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.mailIsValid=!0,e.passIsValid=!0,e.isLoading=!0,t.prev=3,t.next=6,e.$store.dispatch("login",{email:e.email,password:e.password});case 6:e.$router.replace("/tracker"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),"INVALID_PASSWORD"==t.t0.message|"MISSING_PASSWORD"==t.t0.message?e.passIsValid=!1:"INVALID_EMAIL"==t.t0.message||"EMAIL_NOT_FOUND"==t.t0.message?e.mailIsValid=!1:alert(t.t0.message||"Failed to authenticate. Try again later.");case 12:e.isLoading=!1;case 13:case"end":return t.stop()}}),t,null,[[3,9]])})))()},resetPassword:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("resetPassword",e.email);case 2:alert("An email with the link to reset the password was sent to "+e.email+". It should arrive in the next couple of minutes. If not - please try again."),e.passIsValid=!0,e.goToReset=!1;case 5:case"end":return t.stop()}}),t)})))()}}},se=re,oe=(a("3e09"),Object(h["a"])(se,te,ae,!1,null,"6c41d605",null)),ne=oe.exports,ie=(a("7db0"),a("b64b"),a("ddb0"),a("ade3")),le=(a("b0c0"),""),ce={token:null,userId:null,users:[{email:"szymon.zygaluk@mercer.com",name:"Szymon"},{email:"christopher.roberts@mercer.com",name:"Chris"},{email:"piotr.pasciak@mercer.com",name:"Piotr"}],username:"",timeToRefresh:0},de={userId:function(e){return e.userId},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token},displayName:function(e){return e.username},timeToRefresh:function(e){return e.timeToRefresh}},ue={setUser:function(e,t){for(var a in e.token=t.token,e.payloadId=t.userId,e.tokenExpiration=t.tokenExpiration,e.users)e.users[a].email==t.email&&(e.username=e.users[a].name)}},me={login:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function a(){var r,s,o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBNHKkQrSO3w5sxJjd9Tu1C3T2_ogm_7aQ",{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})});case 2:return r=a.sent,a.next=5,r.json();case 5:if(s=a.sent,r.ok){a.next=10;break}throw o=new Error(s.error.message||"Failed to authenticate!"),console.log(o),o;case 10:n=f["DateTime"].local(),localStorage.setItem("tokenGetTime",n),localStorage.setItem("token",s.idToken),localStorage.setItem("userId",s.localId),localStorage.setItem("email",s.email),localStorage.setItem("refreshToken",s.refreshToken),e.commit("setUser",{token:s.idToken,userId:s.localId,email:s.email});case 17:case"end":return a.stop()}}),a)})))()},autoLogin:function(e){var t=localStorage.getItem("token"),a=localStorage.getItem("userId"),r=localStorage.getItem("email");if(t&&a){var s=function t(){le=setInterval(Object(p["a"])(regeneratorRuntime.mark((function a(){var r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=localStorage.getItem("tokenGetTime"),s=f["DateTime"].fromISO(r).plus({minutes:45}),o=f["DateTime"].local(),!(o>=s)){a.next=8;break}return clearInterval(le),a.next=7,e.dispatch("tokenRefresh");case 7:t();case 8:case"end":return a.stop()}}),a)}))),3e5)};s(),e.commit("setUser",{token:t,userId:a,email:r})}},tokenRefresh:function(e){return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=localStorage.getItem("refreshToken"),t.next=3,fetch("https://securetoken.googleapis.com/v1/token?key=AIzaSyBNHKkQrSO3w5sxJjd9Tu1C3T2_ogm_7aQ",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=refresh_token&refresh_token=".concat(a)});case 3:return r=t.sent,t.next=6,r.json();case 6:s=t.sent,o=f["DateTime"].local(),localStorage.setItem("tokenGetTime",o),localStorage.setItem("token",s.id_token),localStorage.setItem("refreshToken",s.refresh_token),localStorage.setItem("userId",s.user_id),e.commit("setUser",{token:s.id_token,userId:s.user_id});case 13:case"end":return t.stop()}}),t)})))()},changePassword:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function a(){var r,s,o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=localStorage.getItem("token"),a.next=3,fetch("https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyBNHKkQrSO3w5sxJjd9Tu1C3T2_ogm_7aQ",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:r,password:t,returnSecureToken:!0})});case 3:return s=a.sent,a.next=6,s.json();case 6:if(o=a.sent,s.ok){a.next=10;break}throw n=new Error(o.error.message||"Failed to authenticate!"),n;case 10:localStorage.setItem("token",o.idToken),localStorage.setItem("userId",o.localId),localStorage.setItem("email",o.email),localStorage.setItem("refreshToken",o.refreshToken),e.commit("setUser",{token:o.idToken,userId:o.localId,email:o.email});case 15:case"end":return a.stop()}}),a)})))()},resetPassword:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=AIzaSyBNHKkQrSO3w5sxJjd9Tu1C3T2_ogm_7aQ",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requestType:"PASSWORD_RESET",email:t})});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))()},logout:function(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("email"),localStorage.removeItem("refreshToken"),localStorage.removeItem("tokenGetTime"),clearInterval(le),e.commit("setUser",{token:null,userId:null,tokenExpiration:null})}},pe={state:ce,getters:de,mutations:ue,actions:me},fe={linkName:"",isLoading:!1,isDeleted:!1,allBoxContents:[]},ve={allBoxContents:function(e){return e.allBoxContents},deleting:function(e){return e.isDeleted},link:function(e){return e.linkName},filteredList:function(e){return"In Progress"==e.linkName?e.allBoxContents.filter((function(e){return e.status.match("In Progress")})):"Pending"==e.linkName?e.allBoxContents.filter((function(e){return e.status.match("Pending")})):"Completed"==e.linkName?e.allBoxContents.filter((function(e){return e.status.match("Completed")})):e.allBoxContents}},ge={watchTime:function(e){var t=e.allBoxContents,a=f["DateTime"].local().toISODate();for(var r in t)t[r].timeVal==a&&"Completed"!=t[r].status&&(t[r].boolVal=!0,t[r].componentKey+=1)},setData:function(e,t){var a=[];for(var r in t)t[r].id=r,a.unshift(t[r]);e.allBoxContents=a},updateContents:function(e,t){for(var a=0;a<e.allBoxContents.length;a++)if(e.allBoxContents[a].id==t.id){"date"==t.input&&"delivery"==t.property?(e.allBoxContents[a].timeVal=t.value,e.allBoxContents[a][t.property]=f["DateTime"].fromISO(t.value).toLocaleString(f["DateTime"].DATE_HUGE),e.allBoxContents[a].tillDelivery=f["DateTime"].fromISO(t.value).toRelative()):"date"==t.input?e.allBoxContents[a][t.property]=f["DateTime"].fromISO(t.value).toLocaleString(f["DateTime"].DATE_HUGE):e.allBoxContents[a][t.property]=t.value;var r=e.allBoxContents[a].timeVal,s=f["DateTime"].local().toISODate();"status"==t.property&&"Completed"==t.value?(alert('This client can now be found in the "Completed" section.'),e.allBoxContents[a].boolVal=!0,e.allBoxContents[a].componentKey+=1):r<=s&&"Completed"!=e.allBoxContents[a].status?(e.allBoxContents[a].boolVal=!0,e.allBoxContents[a].componentKey+=1):(e.allBoxContents[a].boolVal=!1,e.allBoxContents[a].componentKey+=1),12==e.allBoxContents[a].progressBar&&(alert('This client can now be found in the "Completed" section.'),e.allBoxContents[a].status="Completed",e.allBoxContents[a].boolVal=!0,e.allBoxContents[a].componentKey+=1)}},updateProgressBar:function(e,t){for(var a=0;a<e.allBoxContents.length;a++)e.allBoxContents[a].id==t.id&&t.updateProgress&&(delete e.allBoxContents[a].progress.placehold,"Ok"==t.value||"N/A"==t.value?e.allBoxContents[a].progress[t.property]=t.value:delete e.allBoxContents[a].progress[t.property],e.allBoxContents[a].progressBar=Object.keys(e.allBoxContents[a].progress).length,console.log(e.allBoxContents[a].progressBar),e.allBoxContents[a].progressDisplay=Math.round(e.allBoxContents[a].progressBar/12*100)+"%")},changeLink:function(e,t){e.linkName=t}},he={updateContents:function(e,t){e.commit("updateContents",t);var a=pe.state.token;fetch("https://mmc-tracker.firebaseio.com/boxes.json?auth="+a,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(ie["a"])({},t.id,fe.allBoxContents.find((function(e){return e.id==t.id}))))})},updateProgressBar:function(e,t){var a=e.commit;a("updateProgressBar",t)},changeLink:function(e,t){var a=e.commit;a("changeLink",t)},fetchData:function(e){return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,r=pe.state.token,t.next=4,fetch("https://mmc-tracker.firebaseio.com/boxes.json?auth="+r);case 4:return s=t.sent,t.next=7,s.json();case 7:o=t.sent,a("setData",o);case 9:case"end":return t.stop()}}),t)})))()},removeContents:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(fe.allBoxContents);case 1:if((e.t1=e.t0()).done){e.next=11;break}if(a=e.t1.value,fe.allBoxContents[a].id!=t){e.next=9;break}return fe.allBoxContents[a].isDeleted=!0,r=pe.state.token,e.next=8,fetch("https://mmc-tracker.firebaseio.com/"+t+".json?auth="+r,{method:"DELETE"});case 8:fe.isDeleted=!1;case 9:e.next=1;break;case 11:case"end":return e.stop()}}),e)})))()},refreshStyle:function(e){setInterval((function(){e.commit("watchTime")}),1e3)}},be={state:fe,getters:ve,mutations:ge,actions:he},ye={searchbar:""},xe={searchbar:function(e){return e.searchbar}},Ce={updateSearch:function(e,t){e.searchbar=t},clearSearch:function(e){e.searchbar=""}},we={updateSearch:function(e,t){var a=e.commit;a("updateSearch",t)},clearSearch:function(e){var t=e.commit;t("clearSearch")}},_e={state:ye,getters:xe,mutations:Ce,actions:we},ke=function(e){e.commit("addBoxDisplay")},Pe=function(e,t){var a=e.commit;a("addInput",t)},Te=function(e){e.boxesVisible=!e.boxesVisible},De=function(e){return e.boxesVisible};n["a"].use(d["a"]);var Se=new d["a"].Store({state:{boxesVisible:!1},getters:o,mutations:s,actions:r,modules:{allBoxes:be,searchbar:_e,auth:pe}}),Ee=Se;n["a"].use(k["a"]);var Ie=[{path:"/",component:ne,name:"home"},{path:"/tracker",component:ee,name:"tracker",meta:{requiresAuth:!0}},{path:"/auth",component:Q,name:"auth"},{path:"*",redirect:"/tracker"}],Oe=new k["a"]({routes:Ie,mode:"history"});Oe.beforeEach((function(e,t,a){Ee.dispatch("autoLogin"),console.log("From router: "+Ee.getters.isAuthenticated),e.meta.requiresAuth&&!Ee.getters.isAuthenticated?a("/auth"):a()}));var Be=Oe;new n["a"]({el:"#app",router:Be,store:Ee,render:function(e){return e(_)}})},6087:function(e,t,a){},6707:function(e,t,a){},"85ec":function(e,t,a){},a531:function(e,t,a){},a588:function(e,t,a){},d16c:function(e,t,a){"use strict";var r=a("a588"),s=a.n(r);s.a},d1be:function(e,t,a){},d1bea:function(e,t,a){"use strict";var r=a("6707"),s=a.n(r);s.a},da8e:function(e,t,a){"use strict";var r=a("d1be"),s=a.n(r);s.a},eb48:function(e,t,a){}});
//# sourceMappingURL=app.6b7feac1.js.map